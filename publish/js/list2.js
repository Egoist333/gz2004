"use strict";!function(){var e=[],n=document.getElementById("paginationContainer");QF.pGet("../php/getGoods.php",{}).then(function(t){if(t.error)throw new Error("请求失败");e=t.msg,new Pagination(n,t.msg,0,6).display(function(t){console.log(t);var n=" ";return t.forEach(function(t){n+='\n                   \n                        <div class="card mb-6" style="max-width: 1000px;">\n                        <div class="row no-gutters">\n                            <div class="col-md-4">\n                            <img src="'+t.goods_small_logo+'" class="card-img" alt="...">\n                            </div>\n                            <div class="col-md-8">\n                            <div class="card-body" style="height:300px ">\n                                \n                                <p class="card-text"><a href="./detail.html?id='+t.goods_id+'">'+t.goods_name+'</a></p>\n                                <p class="card-text" style="padding-top:200px"><small class="text-muted" style="font-size:24px"><span>￥'+t.goods_price+' </span><button type="button" data-id="'+t.goods_id+'" class="btn btn-primary" style="margin-left:400px ">加入购物车</button></small></p>\n                            </div>\n                            </div>\n                        </div>\n                            </div>\n                    \n                    '}),n})}).catch(function(t){console.log(t)}),n.onclick=function(t){if("button"===t.target.tagName.toLowerCase()){var n=t.target.getAttribute("data-id");console.log("当前点的是按钮，商品id是"+n);var o=e.find(function(t){return t.goods_id===n}),a=localStorage.getItem("shoppingCart")||"[]",s=JSON.parse(a),i=s.find(function(t){return t.goods_id===n});i?i.count++:(o.count=1,s.push(o)),localStorage.setItem("shoppingCart",JSON.stringify(s)),alert("已添加至购物车")}}}();